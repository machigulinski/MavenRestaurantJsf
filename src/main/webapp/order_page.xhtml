<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/template.xhtml">
	<ui:define name="title">
            <h:outputText value="Order Menu"></h:outputText>
        </ui:define>
        <ui:define name="body">

	    <h:link outcome="/index" value="Home"/>
	    <h:form id="form">  

		<p:dataGrid var="item" value="#{menuItemController.menuItems}" columns="3"  
			    rows="12" paginator="true"  
			    paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"  
			    rowsPerPageTemplate="9,12,15">

		    <p:panel header="#{item.itemName}" style="text-align:center">  
			<h:panelGrid columns="1" style="width:100%">  


			    <h:outputText value="#{item.itemPrice}" />  

			    <p:commandLink update=":form:itemDetail" oncomplete="PF('itemDialog').show()" 
					   title="View Detail">  
				<h:outputText styleClass="ui-icon ui-icon-search" style="margin:0 auto;" />   
				<f:setPropertyActionListener value="#{item}"   
							     target="#{menuItemController.selectedItem}" />  
			    </p:commandLink>  
			</h:panelGrid>  
		    </p:panel>  

		</p:dataGrid>  

		<p:dialog header="Item Detail" widgetVar="itemDialog" modal="true">  
		    <p:outputPanel id="itemDetail" style="text-align:center;">  

			<!-- <p:graphicImage value="/images/cars/.jpg"/>  -->

			<h:panelGrid  columns="2" cellpadding="5">  
			    <h:outputLabel for="name" value="Name: " />  
			    <h:outputText id="name" value="#{menuItemController.selectedItem.itemName}" />  

			    <h:outputLabel for="info" value="Info: " />  
			    <h:outputText id="info" value="#{menuItemController.selectedItem.itemInfo}" />  

			    <h:outputLabel for="price" value="Price: " />  
			    <h:outputText id="price" value="#{menuItemController.selectedItem.itemPrice}" 
					  style="color:#{tableBean.selectedItem.itemPrice}"/>  
			</h:panelGrid>  
		    </p:outputPanel>  
		</p:dialog>  

	    </h:form>  

        </ui:define>
    </ui:composition>

</html>
